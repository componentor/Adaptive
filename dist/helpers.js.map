{"version":3,"file":"helpers.js","sourceRoot":"","sources":["../src/helpers.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Normalizes cstyle input to a string format\n */\nexport function normalizeCstyle(cstyle: string | object | any[] | null | undefined): string {\n\tif (!cstyle) return '';\n\tif (typeof cstyle === 'string') return cstyle;\n\tif (Array.isArray(cstyle)) {\n\t\treturn cstyle.map(item => {\n\t\t\tif (typeof item === 'string') return item;\n\t\t\treturn Object.entries(item)\n\t\t\t\t.map(([key, value]) => `${key}:${value}`)\n\t\t\t\t.join('; ');\n\t\t}).join('; ');\n\t}\n\treturn Object.entries(cstyle)\n\t\t.map(([key, value]) => `${key}:${value}`)\n\t\t.join('; ');\n}\n\n/**\n * Merges parent and child cstyle strings\n * Child properties override parent properties\n * Properties not specified in child are inherited from parent\n */\nexport function mergeCstyle(\n\tparentCstyle: string | object | any[] | null | undefined,\n\tchildCstyle: string | object | any[] | null | undefined\n): string {\n\t// If no parent, just return normalized child\n\tif (!parentCstyle) return normalizeCstyle(childCstyle);\n\t// If no child, just return normalized parent\n\tif (!childCstyle) return normalizeCstyle(parentCstyle);\n\n\t// Normalize both to strings\n\tconst parentStr = normalizeCstyle(parentCstyle);\n\tconst childStr = normalizeCstyle(childCstyle);\n\n\t// Parse parent into a map\n\tconst styleMap: Record<string, string> = {};\n\tparentStr.split(';').forEach(prop => {\n\t\tconst trimmed = prop.trim();\n\t\tif (trimmed) {\n\t\t\tconst colonIndex = trimmed.indexOf(':');\n\t\t\tif (colonIndex > -1) {\n\t\t\t\tconst key = trimmed.substring(0, colonIndex).trim();\n\t\t\t\tconst value = trimmed.substring(colonIndex + 1).trim();\n\t\t\t\tif (key) styleMap[key] = value;\n\t\t\t}\n\t\t}\n\t});\n\n\t// Merge child properties (overrides parent)\n\tchildStr.split(';').forEach(prop => {\n\t\tconst trimmed = prop.trim();\n\t\tif (trimmed) {\n\t\t\tconst colonIndex = trimmed.indexOf(':');\n\t\t\tif (colonIndex > -1) {\n\t\t\t\tconst key = trimmed.substring(0, colonIndex).trim();\n\t\t\t\tconst value = trimmed.substring(colonIndex + 1).trim();\n\t\t\t\tif (key) styleMap[key] = value;\n\t\t\t}\n\t\t}\n\t});\n\n\t// Convert back to string\n\treturn Object.entries(styleMap)\n\t\t.map(([key, value]) => `${key}:${value}`)\n\t\t.join(';');\n}\n"]}