{"version":3,"file":"helpers.js","sourceRoot":"","sources":["../src/helpers.ts"],"names":[],"mappings":"AAAA;;GAEG;AACH,MAAM,UAAU,eAAe,CAAC,MAAkD;IACjF,IAAI,CAAC,MAAM;QAAE,OAAO,EAAE,CAAC;IACvB,IAAI,OAAO,MAAM,KAAK,QAAQ;QAAE,OAAO,MAAM,CAAC;IAC9C,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC;QAC3B,OAAO,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;YACxB,IAAI,OAAO,IAAI,KAAK,QAAQ;gBAAE,OAAO,IAAI,CAAC;YAC1C,OAAO,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;iBACzB,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;iBACxC,IAAI,CAAC,IAAI,CAAC,CAAC;QACd,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACf,CAAC;IACD,OAAO,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;SAC3B,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;SACxC,IAAI,CAAC,IAAI,CAAC,CAAC;AACd,CAAC;AAID;;;;;GAKG;AACH,MAAM,UAAU,WAAW,CAAC,GAAG,OAAsB;IACpD,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC;QAAE,OAAO,EAAE,CAAC;IACpC,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC;QAAE,OAAO,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IAE7D,MAAM,QAAQ,GAA2B,EAAE,CAAC;IAE5C,yDAAyD;IACzD,KAAK,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;QAC9C,MAAM,UAAU,GAAG,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/C,IAAI,CAAC,UAAU;YAAE,SAAS;QAE1B,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACpC,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;YAC5B,IAAI,OAAO,EAAE,CAAC;gBACb,MAAM,UAAU,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBACxC,IAAI,UAAU,GAAG,CAAC,CAAC,EAAE,CAAC;oBACrB,MAAM,GAAG,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,IAAI,EAAE,CAAC;oBACpD,MAAM,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;oBACvD,IAAI,GAAG;wBAAE,QAAQ,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;gBAChC,CAAC;YACF,CAAC;QACF,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,OAAO,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;SAC7B,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;SACxC,IAAI,CAAC,GAAG,CAAC,CAAC;AACb,CAAC","sourcesContent":["/**\n * Normalizes cstyle input to a string format\n */\nexport function normalizeCstyle(cstyle: string | object | any[] | null | undefined): string {\n\tif (!cstyle) return '';\n\tif (typeof cstyle === 'string') return cstyle;\n\tif (Array.isArray(cstyle)) {\n\t\treturn cstyle.map(item => {\n\t\t\tif (typeof item === 'string') return item;\n\t\t\treturn Object.entries(item)\n\t\t\t\t.map(([key, value]) => `${key}:${value}`)\n\t\t\t\t.join('; ');\n\t\t}).join('; ');\n\t}\n\treturn Object.entries(cstyle)\n\t\t.map(([key, value]) => `${key}:${value}`)\n\t\t.join('; ');\n}\n\ntype CstyleInput = string | object | any[] | null | undefined;\n\n/**\n * Merges multiple cstyle inputs\n * Left arguments override right arguments\n * @example mergeCstyle(child, parent) - child overrides parent\n * @example mergeCstyle(a, b, c, d) - a overrides b, b overrides c, c overrides d\n */\nexport function mergeCstyle(...cstyles: CstyleInput[]): string {\n\tif (cstyles.length === 0) return '';\n\tif (cstyles.length === 1) return normalizeCstyle(cstyles[0]);\n\n\tconst styleMap: Record<string, string> = {};\n\n\t// Process right-to-left so left args override right args\n\tfor (let i = cstyles.length - 1; i >= 0; i--) {\n\t\tconst normalized = normalizeCstyle(cstyles[i]);\n\t\tif (!normalized) continue;\n\n\t\tnormalized.split(';').forEach(prop => {\n\t\t\tconst trimmed = prop.trim();\n\t\t\tif (trimmed) {\n\t\t\t\tconst colonIndex = trimmed.indexOf(':');\n\t\t\t\tif (colonIndex > -1) {\n\t\t\t\t\tconst key = trimmed.substring(0, colonIndex).trim();\n\t\t\t\t\tconst value = trimmed.substring(colonIndex + 1).trim();\n\t\t\t\t\tif (key) styleMap[key] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\treturn Object.entries(styleMap)\n\t\t.map(([key, value]) => `${key}:${value}`)\n\t\t.join(';');\n}\n"]}